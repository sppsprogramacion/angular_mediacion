<div class="grid justify-content-center">
    <div class="col-12">
        <div class="card p-fluid">
            <p-toolbar styleClass="mb-3 bg-cyan-500">
                <h5 class="block text-white  font-bold font-medium mb-1">Nueva solicitud de tramite</h5>
            </p-toolbar>
            <p-messages [(value)]="msgsAsesorado" [enableService]="false"></p-messages>

            <div class="bg-cyan-600">

            </div>

            <div class="p-formgrid grid">
                <!-- FORMULARIO TRAMITES -->
                <div class="col-12">
                    <form [formGroup]="formaTramite">

                        <!-- CARD ASESORADO -->
                        <div class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Asesorado</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                                
                            </div>

                            <div class="formgrid grid">                                    
                                <div class="field col-12 sm:col-6 md:col-6">
                                    <label for="esta_asesorado">¿Está asesorado?</label>
                                    <p-dropdown id="esta_asesorado" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="esta_asesorado" (onChange)="onChangeAsesorado()">
                                    </p-dropdown>
                                    <small *ngIf="isValid('esta_asesorado')" class="p-error">
                                        Debe estar asesorado para continuar con la solicitud del tramite                                        
                                    </small>
                                </div>
                            </div>
                        </div>
                        <!-- FIN CARD ASESORADO-->

                        <!-- CARD MI DOMICILIO -->
                        <div *ngIf="estaAsesorado" class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Mi domicilio</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                            </div>
                            <div class="formgrid grid">
                                <div class="field col-12 md:col-6">
                                    <label for="departamento_id">Departamento</label>
                                    <p-dropdown id="departamento_id" [options]="listaDepartamentos" optionLabel="departamento" optionValue="id_departamento" formControlName="departamento_id" placeholder="Seleccionar..." (onChange)="onChangeDepartamento()">
                                    </p-dropdown>
                                    <small *ngIf="isValid('departamento_id')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.departamento_id" >
                                            <div  *ngIf="formaTramite.get('departamento_id')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>
                                <div class="field col-12 md:col-6">
                                    <label for="municipio_id">Municipio</label>
                                    <p-dropdown id="municipio_id" [options]="listaMunicipios" optionLabel="municipio" optionValue="id_municipio" formControlName="municipio_id" placeholder="Seleccionar...">
                                    </p-dropdown>
                                    <small *ngIf="isValid('municipio_id')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.municipio_id" >
                                            <div  *ngIf="formaTramite.get('municipio_id')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>
                            </div>

                            <div class="formgrid grid">
                                <div class="field col-12 md:col-6">
                                    <label for="localidad_barrio">Barrio</label>
                                    <input type="text" pInputText id="localidad_barrio" formControlName="localidad_barrio" />
                                    <small *ngIf="isValid('localidad_barrio')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.localidad_barrio" >
                                            <div  *ngIf="formaTramite.get('localidad_barrio')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>
                                <div class="field col-12 md:col-6">
                                    <label for="calle_direccion">Calle/dirección</label>
                                    <input type="text" pInputText id="calle_direccion" formControlName="calle_direccion" />
                                    <small *ngIf="isValid('calle_direccion')" class="p-error">
                                    <div *ngFor="let validation of user_validation_messages.calle_direccion" >
                                        <div  *ngIf="formaTramite.get('calle_direccion')?.hasError(validation.type)">
                                            {{validation.message}}
                                        </div>
                                    </div>
                                </small>
                                </div>
                            </div>
                            <div class="formgrid grid">
                                <div class="field col-12 md:col-6">
                                    <label for="numero_dom">Número</label>
                                    <input type="text" pInputText id="numero_dom" formControlName="numero_dom" />
                                    <small *ngIf="isValid('numero_dom')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.numero_dom" >
                                            <div  *ngIf="formaTramite.get('numero_dom')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>

                            </div>
                        </div>
                        <!-- FIN CARD MI DOMICIO -->

                        <!-- CARD CENTRO MEDICAION -->
                        <div *ngIf="estaAsesorado" class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Seleccionar centro de mediación</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                            </div>
                            <div class="formgrid grid">
                                <div class="field col-12 md:col-8 lg:col-6">
                                    <label for="departamento_id_centro">Departamento</label>
                                    <p-dropdown id="departamento_id_centro" [options]="listaDepartamentosConCentros" optionLabel="departamento" optionValue="id_departamento" formControlName="departamento_id_centro" placeholder="Seleccionar..." (onChange)="onChangeDepartamentoParaCentros()">
                                    </p-dropdown>
                                    <small *ngIf="isValid('departamento_id_centro')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.departamento_id_centro" >
                                            <div  *ngIf="formaTramite.get('departamento_id_centro')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>
                            </div>
                            <div class="formgrid grid">
                                <div class="field col-12">
                                    <label for="centro_mediacion_id">Centro Mediación</label>
                                    <p-listbox [options]="elementosCentroMediacion" optionLabel="value" optionValue="clave" formControlName="centro_mediacion_id" styleClass="listbox1" [listStyle]="{'max-height':'250px'}"></p-listbox>
                                    <small *ngIf="isValid('centro_mediacion_id')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.centro_mediacion_id" >
                                            <div  *ngIf="formaTramite.get('centro_mediacion_id')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>

                            </div>

                        </div>
                        <!-- FIN CARD CENTRO MEDICAION -->

                        <!-- CARD MOTIVOS -->
                        <div *ngIf="estaAsesorado" class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Motivos de la solicitud</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                            </div>
                            <div class="formgrid grid">
                                <div class="field col-12 md:col-6">
                                    <label for="objeto_id">Motivo de la mediación (según Ley 732, Art. 10)</label>
                                    <p-dropdown id="objeto_id" [options]="listObjetos" optionLabel="objeto" optionValue="id_objeto" formControlName="objeto_id" placeholder="Seleccionar...">
                                    </p-dropdown>
                                    <small *ngIf="isValid('objeto_id')" class="p-error">
                                        <div *ngFor="let validation of user_validation_messages.objeto_id" >
                                            <div  *ngIf="formaTramite.get('objeto_id')?.hasError(validation.type)">
                                                {{validation.message}}
                                            </div>
                                        </div>
                                    </small>
                                </div>
                            </div>

                            <div class="formgrid grid">
                                <div class="field col-12 sm:col-8 md:col-6">
                                    <label for="id_opcion_sino">¿Existe violencia entre las partes?</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="violencia_partes">
                                    </p-dropdown>
                                </div>
                                <div class="field col-12 sm:col-8 md:col-6">
                                    <label for="id_opcion_sino">¿Existe violencia de genero?</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="violencia_genero" (onChange)="onChangeViolenciaGenero()">
                                    </p-dropdown>
                                </div>
                            </div>

                            <div *ngIf="existe_violencia_genero" class="formgrid grid">
                                <div class="col-12 mb-1">
                                    <label for="id_opcion_sino">En caso de violencia de egenero</label><br>
                                </div>
                                <div class="field col-6">
                                    <label for="id_opcion_sino">¿Existe denuncia?</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="existe_denuncia">
                                    </p-dropdown>
                                </div>
                                <div class="field col-6">
                                    <label for="id_opcion_sino">¿Existe una medida cautelar?</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="medida_cautelar">
                                    </p-dropdown>
                                </div>
                            </div>

                            <div class="formgrid grid">
                                <div class="field col-12 sm:col-6 md:col-4">
                                    <label for="id_opcion_sino">pdf denuncia</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="pdf_denuncia">
                                    </p-dropdown>
                                </div>
                                <div class="field col-12 sm:col-6 md:col-4">
                                    <label for="id_opcion_sino">pdf cautelar</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="pdf_cautelar">
                                    </p-dropdown>
                                </div>
                                <div class="field col-12 sm:col-6 md:col-4">
                                    <label for="id_opcion_sino">pdf ingresos</label>
                                    <p-dropdown id="id_opcion_sino" [options]="listSiNo" optionLabel="respuesta_sino" optionValue="id_opcion_sino" formControlName="pdf_ingresos">
                                    </p-dropdown>
                                </div>

                            </div>
                        </div>
                        <!-- FIN CARD MOTIVOS -->

                        <!-- CARD CONVOCADOS -->
                        <div *ngIf="estaAsesorado" class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Agregar Convocados</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                            </div>

                            <div class="col-12 border-bottom-1 surface-border">
                                <p-toolbar styleClass="mb-4">
                                    <ng-template pTemplate="left">
                                        <div class="my-2">
                                            <button pButton pRipple label="Ingresar convocado" icon="pi pi-plus" class="p-button-info mr-2" (click)="openDialogConvocado()"></button>
                                        </div>
                                    </ng-template>
                                </p-toolbar>

                                <!-- TABLA DE CONVOCADOS SALTA-->
                                <p-table #dt1 [value]="listConvocadosAux" [rows]="10" [rowHover]="true" styleClass="p-datatable-striped" [paginator]="true" [globalFilterFields]="['asunto','sector.sector','expediente_nota','persona_referencia','descripcion']" responsiveLayout="scroll">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th style="width: 3rem"></th>
                                            <th>
                                                <div style="width: 6rem" class="flex justify-content-between align-items-left">
                                                    Apellido
                                                </div>
                                            </th>
                                            <th>
                                                <div class="flex justify-content-between align-items-center">
                                                    Nombre
                                                </div>
                                            </th>
                                            <th>
                                                <div class="flex justify-content-between align-items-center">
                                                    DNI
                                                </div>
                                            </th>                                            
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-convocado>
                                        <tr>
                                            <td>
                                                <p-button icon="pi pi-search-plus" styleClass="p-button-rounded mb-1" (click)="openDialogVerConvocado(convocado)"></p-button>
                                                <!-- <button pButton pRipple type="button" icon="pi pi-folder-open text-purple-100" class="p-button-secondary p-button-rounded bg-purple-500 mr-1 mb-1" (click)="quitarConvocado(convocado)"></button>     -->
                                            </td>
                                            <td style="min-width: 12rem;">
                                                {{convocado.apellido}}
                                            </td>
                                            <td style="min-width: 12rem;">
                                                {{convocado.nombre}}
                                            </td>
                                            <td style="min-width: 5rem;">
                                                {{convocado.dni}}
                                            </td>
                                            
                                        </tr>
                                    </ng-template>

                                    <ng-template pTemplate="emptymessage">
                                        <tr>
                                            <td colspan="8">No se encontraron convocados agregados.</td>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="loadingbody">
                                        <tr>
                                            <td colspan="8">Cargando convocados... .</td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                                <!-- FIN TABLA DE CONVOCADOS SALTA -->

                                <!-- DIALOG CONVOCADOS SALTA-->
                                <p-dialog id="convocadoDialog" [(visible)]="convocadoSaltaDialog" [style]="{width: '500px','min-height':'400px'}" class="p-fluid" header="Datos de convocado" [closable]="false" [modal]="true">

                                    <ng-template pTemplate="content">
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Datos personales</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Nombre:<span class="text ml-1 font-medium"> {{convocadoAux.apellido}} {{convocadoAux.nombre}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">DNI:<span class="text ml-1 font-medium"> {{convocadoAux.dni}}</span></span>
                                                </div>
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Sexo:<span class="text ml-1 font-medium"> {{convocadoAux.sexo}}</span></span>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Domicilio</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Provincia:<span class="text ml-1 font-medium"> {{convocadoAux.provincia}} </span></span>
                                                </div>
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Departamento:<span class="text ml-1 font-medium"> {{convocadoAux.departamento}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Municipio:<span class="text ml-1 font-medium"> {{convocadoAux.municipio}}</span></span>
                                                </div>
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Codigo Postal:<span class="text ml-1 font-medium"> {{convocadoAux.codigo_postal}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">B°:<span class="text ml-1 font-medium"> {{convocadoAux.localidad_barrio}} - Direccion: {{convocadoAux.calle_direccion}} - N° {{convocadoAux.numero_dom}}</span></span>
                                                </div>
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Punto de Referencia:<span class="text ml-1 font-medium"> {{convocadoAux.punto_referencia}}</span></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Contacto</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Telefono:<span class="text ml-1 font-medium"> {{convocadoAux.telefono}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Correo Electronico:<span class="text ml-1 font-medium"> {{convocadoAux.email}}</span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>

                                    <ng-template pTemplate="footer" class="mt-1">
                                        <button pButton pRipple type="button" label="Quitar convocado" class="p-button-outlined p-button-warning mr-2 mb-2" (click)="quitarConvocado()"></button>
                                        <button pButton pRipple type="button" label="Cerrar" class="p-button-outlined p-button-danger mr-2 mb-2" (click)="hideDialogVerConvocado()"></button>
                                    </ng-template>
                                </p-dialog>
                                <!-- FIN DIALOG CONVOCADOS SALTA -->

                                <!-- DIALOG CONVOCADOS NO SALTA-->
                                <p-dialog id="convocadoNoSaltaDialog" [(visible)]="convocadoNoSaltaDialog" [style]="{width: '500px','min-height':'400px'}" class="p-fluid" header="Datos de convocado" [closable]="false" [modal]="true">

                                    <ng-template pTemplate="content">
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Datos personales</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Nombre:<span class="text ml-1 font-medium"> {{convocadoAux.apellido}} {{convocadoAux.nombre}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">DNI:<span class="text ml-1 font-medium"> {{convocadoAux.dni}}</span></span>
                                                </div>
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Sexo:<span class="text ml-1 font-medium"> {{convocadoAux.sexo}}</span></span>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Domicilio</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Provincia:<span class="text ml-1 font-medium"> {{convocadoAux.provincia}} </span></span>
                                                </div>                                                
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-6 xl:col-6">
                                                    <span class="text font-medium text-1xl">Codigo Postal:<span class="text ml-1 font-medium"> {{convocadoAux.codigo_postal}}</span></span>
                                                </div>
                                            </div>                                            
                                        </div>
                                        <div class="col-12 border-bottom-1 surface-border">
                                            <h6 class="block font-bold font-medium">Contacto</h6>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Telefono:<span class="text ml-1 font-medium"> {{convocadoAux.telefono}}</span></span>
                                                </div>
                                            </div>
                                            <div class="grid">
                                                <div class="col-12 lg:col-12 xl:col-12">
                                                    <span class="text font-medium text-1xl">Correo Electronico:<span class="text ml-1 font-medium"> {{convocadoAux.email}}</span></span>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>

                                    <ng-template pTemplate="footer" class="mt-1">
                                        <button pButton pRipple type="button" label="Quitar convocado" class="p-button-outlined p-button-warning mr-2 mb-2" (click)="quitarConvocado()"></button>
                                        <button pButton pRipple type="button" label="Cerrar" class="p-button-outlined p-button-danger mr-2 mb-2" (click)="hideDialogVerConvocado()"></button>
                                    </ng-template>
                                </p-dialog>
                                <!-- FIN DIALOG CONVOCADOS NO SALTA -->

                            </div>

                            <!-- DIALOG FORMULARIO CONVOCADOS -->
                            <!-- <p-dialog id="usuarioTramiteDialog" [(visible)]="convocadoTramiteDialog" [style]="{width: '500px'}"  class="p-fluid" header="Nuevo Convocado" [closable]="false" [modal]="true" [contentStyle]="{'overflow':'visible'}"> -->
                            <p-dialog id="convocadoTramiteDialog" [(visible)]="convocadoTramiteDialog" [style]="{width: '500px','min-height':'400px'}" [position]="posicion" class="p-fluid"  [closable]="false" [modal]="true">
                                <!-- MENSAJE DE ERROR -->
                                <p-messages [(value)]="msgs" [enableService]="false"></p-messages>
                                <ng-template pTemplate="content">
                                    <div class="p-formgrid grid">
                                        <!-- FORMULARIO PROVINCIA -->
                                        <div class="col-12">
                                            <form [formGroup]="formaProvincia">
                                                <div class="formgrid grid">
                                                    <div class="field col-12">
                                                        <label for="provincia_id">Provincia</label>
                                                        <p-dropdown id="provincia_id" [options]="listaProvincias" optionLabel="provincia" optionValue="id_provincia" formControlName="provincia_id" placeholder="Seleccionar..." (onChange)="onChangeProvincia()">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidProvincia('provincia_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.provincia_id" >
                                                                <div  *ngIf="formaProvincia.get('provincia_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!--  FIN FORMULARIO PROVINCIA -->

                                        <!-- FORMULARIO CONVOCADOS -->
                                        <div class="col-12 " *ngIf="isDatosPersonales">
                                            <form [formGroup]="formaConvocado">
                                                <h6 class="block font-bold font-medium">Datos personales</h6>

                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="apellido">Apellido</label>
                                                        <input type="text" pInputText id="apellido" formControlName="apellido" />
                                                        <small *ngIf="isValidConvocado('apellido')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.apellido" >
                                                                <div  *ngIf="formaConvocado.get('apellido')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="nombre">Nombre</label>
                                                        <input type="text" pInputText id="nombre" formControlName="nombre" />
                                                        <small *ngIf="isValidConvocado('nombre')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.nombre" >
                                                                <div  *ngIf="formaConvocado.get('nombre')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>

                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="sexo_id">Sexo</label>
                                                        <p-dropdown id="sexo_id" [options]="listSexo" optionLabel="sexo" optionValue="id_sexo" formControlName="sexo_id" placeholder="Seleccionar...">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidConvocado('sexo_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.sexo_id" >
                                                                <div  *ngIf="formaConvocado.get('sexo_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="dni">DNI</label>
                                                        <input type="text" pInputText id="dni" formControlName="dni" />
                                                        <small *ngIf="isValidConvocado('dni')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.dni" >
                                                                <div  *ngIf="formaConvocado.get('dni')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>


                                            </form>
                                        </div>
                                        <!--  FIN FORMULARIO CONVOCADOS -->

                                        <!-- FORMULARIO DOMICILIO CONVOCADOS -->
                                        <div class="col-12" *ngIf="isSalta">
                                            <form [formGroup]="formaDomicilioSalta">
                                                <h6 class="block font-bold font-medium">Domicilio</h6>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="departamento_id">Departamento</label>
                                                        <p-dropdown id="departamento_id" [options]="listaDepartamentos" optionLabel="departamento" optionValue="id_departamento" formControlName="departamento_id" placeholder="Seleccionar..." (onChange)="onChangeDepartamentoConvocado()">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidDomicilioSalta('departamento_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.departamento_id" >
                                                                <div  *ngIf="formaDomicilioSalta.get('departamento_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6">
                                                        <label for="municipio_id">Municipio</label>
                                                        <p-dropdown id="municipio_id" [options]="listaMunicipiosConvocado" optionLabel="municipio" optionValue="id_municipio" formControlName="municipio_id" placeholder="Seleccionar...">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidDomicilioSalta('municipio_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.municipio_id" >
                                                                <div  *ngIf="formaDomicilioSalta.get('municipio_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="codigo_postal">Codigo Postal</label>
                                                        <input type="text" pInputText id="codigo_postal" formControlName="codigo_postal" />
                                                        <small *ngIf="isValidDomicilioSalta('codigo_postal')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.codigo_postal" >
                                                                <div  *ngIf="formaDomicilioSalta.get('codigo_postal')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>

                                                </div>

                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="localidad_barrio">Barrio</label>
                                                        <input type="text" pInputText id="localidad_barrio" formControlName="localidad_barrio" />
                                                        <small *ngIf="isValidDomicilioSalta('localidad_barrio')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.localidad_barrio" >
                                                                <div  *ngIf="formaDomicilioSalta.get('localidad_barrio')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6">
                                                        <label for="calle_direccion">Calle/dirección</label>
                                                        <input type="text" pInputText id="calle_direccion" formControlName="calle_direccion" />
                                                        <small *ngIf="isValidDomicilioSalta('calle_direccion')" class="p-error">
                                                        <div *ngFor="let validation of user_validation_messages.calle_direccion" >
                                                            <div  *ngIf="formaDomicilioSalta.get('calle_direccion')?.hasError(validation.type)">
                                                                {{validation.message}}
                                                            </div>
                                                        </div>
                                                    </small>
                                                    </div>
                                                </div>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="numero_dom">Número</label>
                                                        <input type="text" pInputText id="numero_dom" formControlName="numero_dom" />
                                                        <small *ngIf="isValidDomicilioSalta('numero_dom')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.numero_dom" >
                                                                <div  *ngIf="formaDomicilioSalta.get('numero_dom')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6">
                                                        <label for="punto_referencia">Punto de Referencia</label>
                                                        <input type="text" pInputText id="punto_referencia" formControlName="punto_referencia" />
                                                        <small *ngIf="isValidDomicilioSalta('punto_referencia')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.punto_referencia" >
                                                                <div  *ngIf="formaDomicilioSalta.get('punto_referencia')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                                <h6 class="block font-bold font-medium">Contacto</h6>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="telefono">Télefono</label>
                                                        <input type="text" pInputText id="telefono" formControlName="telefono" />
                                                        <small *ngIf="isValidDomicilioSalta('telefono')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.telefono" >
                                                                <div  *ngIf="formaDomicilioSalta.get('telefono')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6">
                                                        <label for="email">Correo electrónico</label>
                                                        <input type="text" pInputText id="email" formControlName="email" />
                                                        <small *ngIf="isValidDomicilioSalta('email')" class="p-error">
                                                        <div *ngFor="let validation of user_validation_messages.email" >
                                                            <div  *ngIf="formaDomicilioSalta.get('email')?.hasError(validation.type)">
                                                                {{validation.message}}
                                                            </div>
                                                        </div>
                                                    </small>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!-- FIN FORMULARIO DOMICILIO CONVOCADOS -->

                                        <!-- FORMULARIO DOMICILIO CONVOCADOS NO SALTA-->
                                        <div class="col-12" *ngIf="isNoSalta">
                                            <form [formGroup]="formaDomicilioNoSalta">
                                                <h6 class="block font-bold font-medium">Contacto</h6>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="codigo_postal">Codigo Postal</label>
                                                        <input type="text" pInputText id="codigo_postal" formControlName="codigo_postal" />
                                                        <small *ngIf="isValidDomicilioNoSalta('codigo_postal')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.codigo_postal" >
                                                                <div  *ngIf="formaDomicilioNoSalta.get('codigo_postal')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="telefono">Télefono</label>
                                                        <input type="text" pInputText id="telefono" formControlName="telefono" />
                                                        <small *ngIf="isValidDomicilioNoSalta('telefono')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.telefono" >
                                                                <div  *ngIf="formaDomicilioNoSalta.get('telefono')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6">
                                                        <label for="email">Correo electrónico</label>
                                                        <input type="text" pInputText id="email" formControlName="email" />
                                                        <small *ngIf="isValidDomicilioNoSalta('email')" class="p-error">
                                                        <div *ngFor="let validation of user_validation_messages.email" >
                                                            <div  *ngIf="formaDomicilioNoSalta.get('email')?.hasError(validation.type)">
                                                                {{validation.message}}
                                                            </div>
                                                        </div>
                                                    </small>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!-- FIN FORMULARIO DOMICILIO CONVOCADOS NO SALTA-->
                                    </div>
                                </ng-template>

                                <ng-template pTemplate="footer" class="mt-1">
                                    <button pButton pRipple type="button" label="Agregar" class="p-button-outlined p-button-success mr-2 mb-2" (click)="agregarConvocado()"></button>
                                    <button pButton pRipple type="button" label="Cancelar" class="p-button-outlined p-button-danger mr-2 mb-2" (click)="hideDialogConvocado()"></button>
                                </ng-template>
                            </p-dialog>
                            <!-- FIN DIALOG FORMULARIO  CONVOCADOS -->
                        </div>
                        <!-- FIN CARD CONVOCADOS -->

                        <!-- CARD VINCULADOS -->
                        <div *ngIf="estaAsesorado" class="card p-fluid">
                            <p-toolbar styleClass="mb-3 bg-orange-500">
                                <h5 class="block text-white  font-bold font-medium mb-1">Agregar Vinculados</h5>
                            </p-toolbar>
                            <div class="bg-cyan-600">

                            </div>

                            <div class="col-12 border-bottom-1 surface-border">
                                <p-toolbar styleClass="mb-4">
                                    <ng-template pTemplate="left">
                                        <div class="my-2">
                                            <button pButton pRipple label="Ingresar vinculado" icon="pi pi-plus" class="p-button-info mr-2" (click)="openDialogVinculado()"></button>
                                        </div>
                                    </ng-template>
                                </p-toolbar>
                                <!-- TABLA DE VINCULADOS -->
                                <p-table #dt1 [value]="listVinculadosAux" [rows]="10" [rowHover]="true" styleClass="p-datatable-striped" [paginator]="true" [globalFilterFields]="['asunto','sector.sector','expediente_nota','persona_referencia','descripcion']" responsiveLayout="scroll">
                                    <ng-template pTemplate="header">
                                        <tr>
                                            <th style="width: 5rem"></th>
                                            <th>
                                                <div class="flex justify-content-between align-items-left">
                                                    Apellido y nombre
                                                </div>
                                            </th>

                                            <th>
                                                <div class="flex justify-content-between align-items-center">
                                                    DNI
                                                </div>
                                            </th>
                                            <th>
                                                <div class="flex justify-content-between align-items-center">
                                                    Sexo
                                                </div>
                                            </th>
                                            <th>
                                                <div class="flex justify-content-between align-items-center">
                                                    Provincia
                                                </div>
                                            </th>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-vinculado>
                                        <tr>
                                            <td>
                                                <!-- <button *ngIf="tramite.estado_tramite_id==1" pButton pRipple type="button" icon="pi pi-folder-open text-purple-100" class="p-button-secondary p-button-rounded bg-purple-500 mr-1 mb-1" (click)="administrarTramite(tramite)"></button>
                                                <button *ngIf="tramite.estado_tramite_id==2" pButton pRipple type="button" icon="pi pi-folder-open text-orange-100" class="p-button-secondary p-button-rounded bg-orange-500 mr-1 mb-1" (click)="administrarTramite(tramite)"></button> -->
                                            </td>
                                            <td style="min-width: 25rem;">
                                                {{vinculado.apellido}} {{vinculado.nombre}}
                                            </td>
                                            <td style="min-width: 10rem;">
                                                {{vinculado.dni}}
                                            </td>
                                            <td style="min-width: 10rem;">
                                                {{vinculado.sexo}}
                                            </td>
                                            <td style="min-width: 15rem;">
                                                <!-- {{vinculado.provincia}} -->
                                            </td>
                                        </tr>
                                    </ng-template>

                                    <ng-template pTemplate="emptymessage">
                                        <tr>
                                            <td colspan="8">No se encontraron vinculados agregados.</td>
                                        </tr>
                                    </ng-template>
                                    <ng-template pTemplate="loadingbody">
                                        <tr>
                                            <td colspan="8">Cargando vinculados... .</td>
                                        </tr>
                                    </ng-template>
                                </p-table>
                                <!-- FIN TABLA DE VINCULADOS -->

                            </div>

                            <!-- DIALOG FORMULARIO VINCULADOS -->
                            <p-dialog id="vinculadoTramiteDialog" [(visible)]="vinculadoTramiteDialog" [style]="{width: '500px','min-height':'400px'}" [position]="posicion" class="p-fluid" header="Nuevo Vinculado" [closable]="false" [modal]="true">
                                <!-- MENSAJE DE ERROR -->
                                <p-messages [(value)]="msgsVinculado" [enableService]="false"></p-messages>
                                <ng-template pTemplate="content">
                                    <div class="p-formgrid grid">

                                        <!-- FORMULARIO VINCULADOS -->
                                        <div class="col-12 ">
                                            <form [formGroup]="formaVinculado">
                                                <h6 class="block font-bold font-medium">Datos personales</h6>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="municipio_id">Categoría</label>
                                                        <p-dropdown id="municipio_id" [options]="listaCategorias" optionLabel="categoria" optionValue="id_categoria" formControlName="categoria_id" placeholder="Seleccionar...">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidVinculado('municipio_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.municipio_id" >
                                                                <div  *ngIf="formaVinculado.get('municipio_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>

                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="apellido">Apellido</label>
                                                        <input type="text" pInputText id="apellido" formControlName="apellido" />
                                                        <small *ngIf="isValidVinculado('apellido')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.apellido" >
                                                                <div  *ngIf="formaVinculado.get('apellido')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="nombre">Nombre</label>
                                                        <input type="text" pInputText id="nombre" formControlName="nombre" />
                                                        <small *ngIf="isValidVinculado('nombre')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.nombre" >
                                                                <div  *ngIf="formaVinculado.get('nombre')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>

                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="sexo_id">Sexo</label>
                                                        <p-dropdown id="sexo_id" [options]="listSexo" optionLabel="sexo" optionValue="id_sexo" formControlName="sexo_id" placeholder="Seleccionar...">
                                                        </p-dropdown>
                                                        <small *ngIf="isValidVinculado('sexo_id')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.sexo_id" >
                                                                <div  *ngIf="formaVinculado.get('sexo_id')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                    <div class="field col-12 md:col-6 lg:col-6">
                                                        <label for="dni">DNI</label>
                                                        <input type="text" pInputText id="dni" formControlName="dni" />
                                                        <small *ngIf="isValidVinculado('dni')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.dni" >
                                                                <div  *ngIf="formaVinculado.get('dni')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                                <div class="formgrid grid">
                                                    <div class="field col-12 md:col-6">
                                                        <label for="telefono">Télefono</label>
                                                        <input type="text" pInputText id="telefono" formControlName="telefono" />
                                                        <small *ngIf="isValidVinculado('telefono')" class="p-error">
                                                            <div *ngFor="let validation of user_validation_messages.telefono" >
                                                                <div  *ngIf="formaVinculado.get('telefono')?.hasError(validation.type)">
                                                                    {{validation.message}}
                                                                </div>
                                                            </div>
                                                        </small>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <!--  FIN FORMULARIO VINCULADOS -->
                                    </div>
                                </ng-template>

                                <ng-template pTemplate="footer" class="mt-1">
                                    <button pButton pRipple type="button" label="Agregar" class="p-button-outlined p-button-success mr-2 mb-2" (click)="agregarVinculado()"></button>
                                    <button pButton pRipple type="button" label="Cancelar" class="p-button-outlined p-button-danger mr-2 mb-2" (click)="hideDialogVinculado()"></button>
                                </ng-template>
                            </p-dialog>
                            <!-- FIN DIALOG FORMULARIO  VINCULADOS -->
                        </div>
                        <!-- FIN CARD VINCULADOS -->

                    </form>
                </div>
                <!--  FIN FORMULARIO TRAMITES -->
                <div *ngIf="estaAsesorado" class="col-12 grid justify-content-center">                    
                    <button pButton pRipple type="button" label="Guardar" class="p-button-success" style="width: 47%;" (click)="submitFormTramite()" ></button>
                    <button pButton pRipple type="button" label="Cancelar" class="p-button-danger ml-2" style="width: 47%;" (click)="irAPrincipal()"></button>
                </div>
            </div>
        </div>

    </div>
</div>